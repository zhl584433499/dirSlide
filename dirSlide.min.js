;(function($){$.fn.dirSlide=function(options){var defaults={wrapbg:null,lisdis:"10",width:null,height:null,fontname:"Microsoft Yahei",opacity:"0.7",fontsize:"25",color:"#FFF",lisbg:"#0C0E0C",anitime:200,outtime:200};var settings=$.extend(defaults,options||{});var wrapper=$(this);var lis=wrapper.children();var li_height,li_width;li_height=settings.height?settings.height:lis.find("img").first().height();li_width=settings.width?settings.width:lis.find("img").first().width();var timer=null;wrapper.parent().css({width:"auto"});wrapper.css({backgroundColor:settings.wrapbg,position:"relative",height:"auto",width:"100%",listStyleType:"none"}).children().css({display:"inline-block",position:"relative",cursor:"pointer",margin:settings.lisdis+"px",overflow:"hidden",}).find("img,div").css({height:li_height+"px",width:li_width+"px"}).end().find("div").css({position:"absolute",backgroundColor:settings.lisbg,opacity:settings.opacity,color:settings.color,fontSize:settings.fontsize+"px",fontFamily:settings.fontname,textAlign:"center",lineHeight:li_height+"px",top:li_height+5+"px",});$(lis).mouseenter(function(e){var oDiv=$(this).find("div");oDiv.css({left:0,top:0});var iDirection=mousemovedirection(this,e);switch(iDirection){case 0:oDiv.css("top",-li_height-5+"px");break;case 1:oDiv.css("left",li_width+"px");break;case 2:oDiv.css("top",li_height+5+"px");break;default:oDiv.css("left",-li_width+"px")}timer=setTimeout(function(){oDiv.animate({left:0,top:0},settings.anitime)},settings.outtime)}).mouseleave(function(e){clearTimeout(timer);var oDiv=$(this).find("div");var iDirection=mousemovedirection(this,e);switch(iDirection){case 0:oDiv.animate({top:-li_height-5+"px"},settings.anitime);break;case 1:oDiv.animate({left:li_width+"px"},settings.anitime);break;case 2:oDiv.animate({top:li_height+5+"px"},settings.anitime);break;default:oDiv.animate({left:-li_width+"px"},settings.anitime)}});function mousemovedirection(o,e){var w=o.offsetWidth;var h=o.offsetHeight;var x=(e.pageX-o.offsetLeft-wrapper[0].offsetLeft-(w/2))*(w>h?(h/w):1);var y=(e.pageY-o.offsetTop-wrapper[0].offsetTop-(h/2))*(h>w?(w/h):1);var direction=Math.round((((Math.atan2(y,x)*(180/Math.PI))+180)/90)+3)%4;var evenType=e.type;return direction}}})(jQuery);

